import{a as P}from"./chunk-UV3GULSJ.js";import{a as T}from"./chunk-IEA63ZYY.js";import{a as O}from"./chunk-ENGPXXT4.js";import{b as _,c as F,t as H,u as U,w as o}from"./chunk-LMJCNA3T.js";import"./chunk-WXI33M2S.js";import{$ as p,Hb as S,Lb as L,Ob as w,Pa as v,Pb as C,Qa as b,Ta as a,Ua as x,W as g,ea as h,gb as y,i as f,kb as m,mb as s,pc as D,qc as j,rb as c,sb as l,tb as d,wc as I,zb as u}from"./chunk-2I4HIRHG.js";var R=(()=>{let e=class e{constructor(t,i){this.httpClient=t,this.logService=i,this.productListDataResponeSubject=new f,this.productListDataRespones$=this.productListDataResponeSubject.asObservable()}getProductListData(){let t=new _;return t.set(U,H.Basic),this.httpClient.get(`${o.productsApiUrl}`,{context:t}).subscribe({next:i=>{this.logService.log(i),this.productListDataResponeSubject.next(Object.values(i))},error:i=>{this.logService.error(i)}}),this.productListDataRespones$}};e.\u0275fac=function(i){return new(i||e)(p(F),p(T))},e.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function B(r,e){if(r&1&&(c(0,"div",5)(1,"div",6),d(2,"img",7),c(3,"div",8),d(4,"p",9),w(5,"sanitizeHtml"),c(6,"div",10)(7,"div",11)(8,"button",12),S(9," View "),l()()()()()()),r&2){let n=e.$implicit,t=u(2);a(2),s("src",n.images.length>0?" ./"+t.imagesUrl+n.images[0].src.split(t.imagesUrl.split("/"+t.imagesUrl+"/").pop()).pop():"./images/empty-product-1000x1000.png",b),a(2),s("innerHtml",C(5,2,t.getShortDescription(n)),v)}}function E(r,e){if(r&1&&(c(0,"div",1)(1,"div",2)(2,"div",3),m(3,B,10,4,"div",4),l()()()),r&2){let n=u();a(3),s("ngForOf",n.products)}}var W=(()=>{let e=class e extends O{constructor(t){super(),this.productService=t,this.currentLocale=o.defaultLocale,this.imagesUrl=o.imagesUrl}getData(){return this.productService.getProductListData()}setContent(t,i){this.currentLocale=i,this.products=t}getShortDescription(t){return this.currentLocale===o.defaultLocale?t?.short_description:t?.meta_data?.find(i=>i.key===`${this.currentLocale}_description`)?.value??t?.short_description}};e.\u0275fac=function(i){return new(i||e)(x(R))},e.\u0275cmp=h({type:e,selectors:[["app-product-list"]],standalone:!0,features:[y,L],decls:1,vars:1,consts:[["class","album bg-body-tertiary g-3",4,"ngIf"],[1,"album","bg-body-tertiary","g-3"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","pt-3",2,"min-width","320px"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","shadow-sm","mx-5","mx-sm-0","mb-3"],[3,"src"],[1,"card-body"],[1,"card-text","overflow-hidden",2,"height","70px",3,"innerHtml"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary"]],template:function(i,$){i&1&&m(0,E,4,1,"div",0),i&2&&s("ngIf",$.products)},dependencies:[I,D,j,P]});let r=e;return r})();export{W as ProductListComponent};
