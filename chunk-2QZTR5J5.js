import{a as N}from"./chunk-H3EG3HN3.js";import{a as G}from"./chunk-NQO4KQM5.js";import{a as $}from"./chunk-HPEPJD5L.js";import{a as z}from"./chunk-EIUOCYLT.js";import{a as A}from"./chunk-ZY2LFYAN.js";import{b as y,c as H,h as R,i as w,k as F,m as M,t as E,u as L,w as a,y as U}from"./chunk-366H2GE5.js";import"./chunk-WXI33M2S.js";import{Bb as u,Ib as x,Nb as j,Qb as T,Ra as C,Rb as _,Sb as D,Va as m,Wa as r,Y as h,ba as c,e as q,ga as S,ib as I,k as v,mb as l,ob as s,sc as P,tb as f,ub as g,vb as d,yc as b}from"./chunk-Z5OAP3FN.js";var B=q(G());var O=(()=>{let e=class e{constructor(n,i){this.httpClient=n,this.logService=i,this.pageDataResponseSubject=new v,this.pageDataResponses$=this.pageDataResponseSubject.asObservable()}getPageData(n){let i=new y;return i.set(L,E.Contentful),this.httpClient.get(`${a.contentfulApiUrl}?locale=*&content_type=aerostatPage&fields.slug[match]=${n}`,{context:i}).subscribe({next:o=>{this.logService.log(o),this.pageDataResponseSubject.next(o)},error:o=>{this.logService.error(o)}}),this.pageDataResponses$}};e.\u0275fac=function(i){return new(i||e)(c(H),c(z))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q(t,e){if(t&1&&(d(0,"div",5),T(1,"sanitizeHtml")),t&2){let p=u(2);s("innerHTML",_(1,1,p.pageContent),C)}}function V(t,e){t&1&&d(0,"core-page-not-found")}function W(t,e){if(t&1&&(f(0,"div",3),l(1,Q,2,3,"div",4)(2,V,1,0,"ng-template",null,0,D),g()),t&2){let p=x(3),n=u();m(),s("ngIf",n.pageContent!==null)("ngIfElse",p)}}var de=(()=>{let e=class e extends A{constructor(n,i,o,k,Y,Z){super(),this.pageService=n,this.metaService=i,this.titleService=o,this.translateService=k,this.activatedRoute=Y,this.router=Z}getData(){return this.urlSegment.length===0?this.pageUrl=a.defaultPageUrl.toLowerCase():this.urlSegment.length===1?this.pageUrl=this.urlSegment[0].path:this.router.navigate(["/page-not-found"]),this.pageService.getPageData(this.pageUrl)}setContent(n,i){n?.items?.length>0?this.pageContent=(0,B.documentToHtmlString)(n.items[0].fields.description?.[i]??n.items[0].fields.description?.[a.defaultLocale]):this.router.navigate(["/page-not-found"])}};e.\u0275fac=function(i){return new(i||e)(r(O),r(R),r(w),r(U),r(F),r(M))},e.\u0275cmp=S({type:e,selectors:[["app-page"]],standalone:!0,features:[I,j],decls:2,vars:1,consts:[["pageNotFound",""],[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","col",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"col",3,"innerHTML"]],template:function(i,o){i&1&&(f(0,"div",1),l(1,W,4,2,"div",2),g()),i&2&&(m(),s("ngIf",o.pageContent!==void 0))},dependencies:[N,b,P,$]});let t=e;return t})();export{de as PageComponent};
