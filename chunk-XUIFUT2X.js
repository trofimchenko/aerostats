import{a as U}from"./chunk-CKDHR7GH.js";import{a as N}from"./chunk-UFDVAKJS.js";import{a as H}from"./chunk-NGLT23HW.js";import{a as E}from"./chunk-NDKFPU35.js";import{c as P,d as b,i as y,j as L,k as R,l as $,n as w,s as a,u as M,x as F}from"./chunk-WI5GDKLH.js";import"./chunk-WXI33M2S.js";import{Eb as x,Jb as j,Oa as I,Ob as T,Ra as l,Sa as r,V as h,_ as p,da as S,eb as C,i as v,ib as m,kb as s,oc as _,pb as f,qb as g,rb as u,uc as D,xb as d}from"./chunk-WN4S6TY5.js";var z=(()=>{let i=class i{constructor(e,t){this.httpClient=e,this.logService=t,this.pageDataResponseSubject=new v,this.pageDataResponses$=this.pageDataResponseSubject.asObservable()}getPageData(e){let t=new P;return t.set(N,!0),this.httpClient.get(`${a.apiUrl}/wp/v2/pages/?slug=${e}`,{context:t}).subscribe({next:o=>{this.logService.log(o),this.pageDataResponseSubject.next(o)},error:o=>{this.logService.error(o)}}),this.pageDataResponses$}};i.\u0275fac=function(t){return new(t||i)(p(b),p(H))},i.\u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function J(n,i){if(n&1&&u(0,"div",5),n&2){let c=d(2);s("innerHTML",c.safePageContent,I)}}function K(n,i){n&1&&u(0,"core-page-not-found")}function Q(n,i){if(n&1&&(f(0,"div",3),m(1,J,1,1,"div",4)(2,K,1,0,"ng-template",null,0,T),g()),n&2){let c=x(3),e=d();l(),s("ngIf",e.safePageContent!==null)("ngIfElse",c)}}var me=(()=>{let i=class i extends E{constructor(e,t,o,A,O,B,k,Z){super(),this.pageService=e,this.localeService=t,this.sanitizer=o,this.metaService=A,this.titleService=O,this.translateService=B,this.activatedRoute=k,this.router=Z,this.safePageContent=void 0}getData(){return this.urlSegment.length===0?this.pageUrl=a.defaultPageUrl.toLowerCase():this.urlSegment.length===1?this.pageUrl=this.urlSegment[0].path:this.router.navigate(["/page-not-found"]),this.pageService.getPageData(this.pageUrl)}setContent(e,t){e&&e.length>0?this.safePageContent=this.sanitizer.bypassSecurityTrustHtml(t===a.defaultLocale?e[0].content.rendered:e[0]?.acf?.[t]??e[0].content.rendered):this.router.navigate(["/page-not-found"])}setTitle(e,t){e&&e.length>0&&this.titleService.setTitle(`${t===a.defaultLocale?e[0].title.rendered:e[0]?.acf?.[`${t}_title`]??e[0].title.rendered}`)}setMetaTags(e,t){e&&e.length>0&&this.metaService.updateTag({name:"description",content:e[0]?.acf?.[`${t}_description`]??e[0]?.acf?.[`${t}_${a.defaultLocale}`]})}};i.\u0275fac=function(t){return new(t||i)(r(z),r(F),r(R),r(y),r(L),r(M),r($),r(w))},i.\u0275cmp=S({type:i,selectors:[["app-page"]],standalone:!0,features:[C,j],decls:2,vars:1,consts:[["pageNotFound",""],[1,"container"],["class","row",4,"ngIf"],[1,"row"],["class","col",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"col",3,"innerHTML"]],template:function(t,o){t&1&&(f(0,"div",1),m(1,Q,4,2,"div",2),g()),t&2&&(l(),s("ngIf",o.safePageContent!==void 0))},dependencies:[U,D,_]});let n=i;return n})();export{me as PageComponent};
