import{b as ee,c as S,d as te,e as ie,f as ne,g as re,h as oe,i as ae,j as le,k as me}from"./chunk-45YLXQG7.js";import{a as X}from"./chunk-EIUOCYLT.js";import{a as W}from"./chunk-SQ27LYPW.js";import{A as Q,b as P,c as k,h as H,i as L,s as Y,t as Z,u as z,w as J,z as K}from"./chunk-366H2GE5.js";import"./chunk-WXI33M2S.js";import{Bb as R,Ib as I,Jb as c,Kb as y,Lb as u,Nb as D,Pb as b,Qb as l,Rb as m,Sb as M,Va as t,Wa as v,Y as j,ba as C,ga as F,ib as T,k as x,mb as f,ob as s,qa as w,qc as V,ra as B,sc as O,tb as o,tc as A,ub as r,vb as h,vc as $,xb as N,xc as U,yc as G,zb as q}from"./chunk-Z5OAP3FN.js";var se=(()=>{let i=class i{constructor(n,p){this.httpClient=n,this.logService=p,this.errorSubject=new x,this.sendFormResponseSubject=new x,this.errors$=this.errorSubject.asObservable(),this.sendFormResponses$=this.sendFormResponseSubject.asObservable()}sendForm(n){let p=new P;return p.set(z,Z.None),this.httpClient.post(`${J.fireBaseDatabaseName}/contacts.json`,{username:n["your-name"],email:n["your-email"],subject:n["your-subject"],message:n["your-message"]},{context:p}).subscribe({next:d=>{this.logService.log(d),this.sendFormResponseSubject.next(Object.values(d))},error:d=>{this.logService.error(d,!1),this.errorSubject.next(d)}}),this.sendFormResponses$}};i.\u0275fac=function(p){return new(p||i)(C(k),C(X))},i.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var _=e=>({"is-invalid":e});function de(e,i){e&1&&(o(0,"div",22),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"general.validation.something-went-wrong")," "))}function ue(e,i){if(e&1&&(o(0,"div")(1,"div",20),f(2,de,3,3,"div",21),r()()),e&2){let a=i.ngIf;t(),s("ngSwitch",a.code)}}function fe(e,i){e&1&&(o(0,"div",23),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"auth.form-data.user-name.validation.required")," "))}function ve(e,i){e&1&&(o(0,"div",23),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"auth.form-data.email.validation.required")," "))}function ge(e,i){e&1&&(o(0,"div",23),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"auth.form-data.email.validation.invalid-email-format")," "))}function he(e,i){e&1&&(o(0,"div",23),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"contact.form-data.subject.validation.required")," "))}function ye(e,i){e&1&&(o(0,"div",23),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"contact.form-data.message.validation.required")," "))}function be(e,i){if(e&1&&(o(0,"div")(1,"h1",7),c(2),l(3,"translate"),r(),f(4,ue,3,1,"div",8),l(5,"async"),o(6,"div",9),h(7,"input",10),o(8,"label",11),c(9),l(10,"translate"),r(),f(11,fe,3,3,"div",12),r(),o(12,"div",9),h(13,"input",13),o(14,"label",14),c(15),l(16,"translate"),r(),f(17,ve,3,3,"div",12)(18,ge,3,3,"div",12),r(),o(19,"div",9),h(20,"input",15),o(21,"label",16),c(22),l(23,"translate"),r(),f(24,he,3,3,"div",12),r(),o(25,"div",9),h(26,"textarea",17),o(27,"label",18),c(28),l(29,"translate"),r(),f(30,ye,3,3,"div",12),r(),o(31,"button",19),c(32),l(33,"translate"),r()()),e&2){let a=R(),n=I(4);t(2),u(" ",m(3,16,"contact.title")," "),t(2),s("ngIf",m(5,18,a.contactService.errors$)),t(3),s("ngClass",b(30,_,a.form.controls["your-name"].invalid&&(a.form.controls["your-name"].touched||n.submitted))),t(2),y(m(10,20,"auth.form-data.user-name.title")),t(2),s("ngIf",a.form.controls["your-name"].hasError("required")),t(2),s("ngClass",b(32,_,a.form.controls["your-email"].invalid&&(a.form.controls["your-email"].touched||n.submitted))),t(2),y(m(16,22,"auth.form-data.email.title")),t(2),s("ngIf",a.form.controls["your-email"].hasError("required")),t(),s("ngIf",a.form.controls["your-email"].hasError("email")),t(2),s("ngClass",b(34,_,a.form.controls["your-subject"].invalid&&(a.form.controls["your-subject"].touched||n.submitted))),t(2),y(m(23,24,"contact.form-data.subject.title")),t(2),s("ngIf",a.form.controls["your-subject"].hasError("required")),t(2),s("ngClass",b(36,_,a.form.controls["your-message"].invalid&&(a.form.controls["your-message"].touched||n.submitted))),t(2),y(m(29,26,"contact.form-data.message.title")),t(2),s("ngIf",a.form.controls["your-message"].hasError("required")),t(2),u(" ",m(33,28,"contact.buttons.submit")," ")}}function Se(e,i){e&1&&(o(0,"div",24),c(1),l(2,"translate"),r()),e&2&&(t(),u(" ",m(2,1,"contact.confirmation.message-was-sent")," "))}var Oe=(()=>{let i=class i extends W{constructor(n,p,d,g,E){super(),this.formBuilder=n,this.contactService=p,this.authService=d,this.titleService=g,this.metaService=E}ngOnInit(){super.ngOnInit();let n=this.authService.currentUser();this.form=this.formBuilder.nonNullable.group({"your-name":["",S.required],"your-email":[{value:n?.email??"",disabled:!!n?.email},[S.required,me.email]],"your-subject":["",S.required],"your-message":["",S.required]})}onSubmit(){if(this.form.valid){let n=this.form.getRawValue();this.contactService.sendForm(n)}}};i.\u0275fac=function(p){return new(p||i)(v(ae),v(se),v(Y),v(L),v(H))},i.\u0275cmp=F({type:i,selectors:[["app-contact"]],standalone:!0,features:[T,D],decls:9,vars:5,consts:[["ngForm","ngForm"],["submitResult",""],[1,"component"],[1,"row","justify-content-center"],[1,"col-10","col-sm-8","col-md-6"],[3,"ngSubmit","formGroup"],[4,"ngIf","ngIfElse"],[1,"h3","mb-3","fw-normal"],[4,"ngIf"],[1,"form-floating","my-2"],["type","text","formControlName","your-name","id","floatingUsername","placeholder","","autocomplete","on",1,"form-control",3,"ngClass"],["for","floatingUsername"],["class","invalid-feedback",4,"ngIf"],["type","email","formControlName","your-email","id","floatingEmail","placeholder","name@example.com","autocomplete","off",1,"form-control",3,"ngClass"],["for","floatingEmail"],["type","text","formControlName","your-subject","id","floatingSubject","placeholder","","autocomplete","on",1,"form-control",3,"ngClass"],["for","floatingSubject"],["formControlName","your-message","id","floatingMessage","placeholder","","autocomplete","off",1,"form-control",2,"height","100px",3,"ngClass"],["for","floatingMessage"],["type","submit",1,"btn","btn-primary","w-100","py-2"],[3,"ngSwitch"],["class","alert alert-danger","role","alert",4,"ngSwitchDefault"],["role","alert",1,"alert","alert-danger"],[1,"invalid-feedback"],["role","alert",1,"alert","alert-success"]],template:function(p,d){if(p&1){let g=N();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"form",5,0),q("ngSubmit",function(){return w(g),B(d.onSubmit())}),f(5,be,34,38,"div",6),l(6,"async"),r(),f(7,Se,3,3,"ng-template",null,1,M),r()()()}if(p&2){let g=I(8);t(3),s("formGroup",d.form),t(2),s("ngIf",!m(6,3,d.contactService.sendFormResponses$))("ngIfElse",g)}},dependencies:[G,V,O,A,$,U,le,ne,ee,te,ie,re,oe,Q,K]});let e=i;return e})();export{Oe as ContactComponent};
