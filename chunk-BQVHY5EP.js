import{a as U}from"./chunk-HPEPJD5L.js";import{a as z}from"./chunk-EIUOCYLT.js";import{a as A}from"./chunk-SQ27LYPW.js";import{A as R,b as F,c as H,t as P,u as _,w as r,z as O}from"./chunk-366H2GE5.js";import"./chunk-WXI33M2S.js";import{Bb as u,Jb as D,Lb as w,Nb as C,Qb as f,Ra as x,Rb as h,Sa as y,Va as n,Wa as L,Y as v,ba as p,ga as b,ib as S,k as g,mb as l,ob as s,rc as I,sc as j,tb as a,ub as m,vb as d,yc as T}from"./chunk-Z5OAP3FN.js";var M=(()=>{let i=class i{constructor(t,e){this.httpClient=t,this.logService=e,this.productListDataResponeSubject=new g,this.productListDataRespones$=this.productListDataResponeSubject.asObservable()}getProductListData(){let t=new F;return t.set(_,P.Contentful),this.httpClient.get(`${r.contentfulApiUrl}?locale=*&content_type=aerostat`,{context:t}).subscribe({next:e=>{this.logService.log(e),this.productListDataResponeSubject.next(e)},error:e=>{this.logService.error(e)}}),this.productListDataRespones$}};i.\u0275fac=function(e){return new(e||i)(p(H),p(z))},i.\u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function N(o,i){if(o&1&&(a(0,"div",5)(1,"div",6),d(2,"img",7),a(3,"div",8),d(4,"p",9),f(5,"sanitizeHtml"),a(6,"div",10)(7,"div",11)(8,"button",12),D(9),f(10,"translate"),m()()()()()()),o&2){let c=i.$implicit,t=u(2);n(2),s("src",t.getImageUrl(c),y),n(2),s("innerHtml",h(5,3,t.getShortDescription(c)),x),n(5),w(" ",h(10,5,"products.buttons.view")," ")}}function k(o,i){if(o&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),l(3,N,11,7,"div",4),m()()()),o&2){let c=u();n(3),s("ngForOf",c.products)}}var ot=(()=>{let i=class i extends A{constructor(t){super(),this.productService=t,this.currentLocale=r.defaultLocale}getData(){return this.productService.getProductListData()}setContent(t,e){this.currentLocale=e,this.products=t.items,this.assets=t.includes?.Asset}getImageUrl(t){return t.fields.images?this.assets?.find(e=>e.sys.id===t.fields.images[this.currentLocale]?.[0]?.sys.id)?.fields.file[this.currentLocale].url??this.assets?.find(e=>e.sys.id===t.fields.images[r.defaultLocale]?.[0]?.sys.id)?.fields.file[r.defaultLocale].url:"./images/empty-product-1000x1000.png"}getShortDescription(t){return t.fields.shortDescription?.[this.currentLocale]??t.fields.shortDescription?.[r.defaultLocale]}};i.\u0275fac=function(e){return new(e||i)(L(M))},i.\u0275cmp=b({type:i,selectors:[["app-product-list"]],standalone:!0,features:[S,C],decls:1,vars:1,consts:[["class","album g-3",4,"ngIf"],[1,"album","g-3"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","pt-3",2,"min-width","320px"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","shadow-sm","mx-5","mx-sm-0","mb-3"],["height","225",1,"object-fit-cover",3,"src"],[1,"card-body"],[1,"card-text","overflow-hidden",2,"height","70px",3,"innerHtml"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary"]],template:function(e,$){e&1&&l(0,k,4,1,"div",0),e&2&&s("ngIf",$.products)},dependencies:[T,I,j,U,R,O]});let o=i;return o})();export{ot as ProductListComponent};
